<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Web App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        tg.MainButton.text = "Changed Text";
        tg.MainButton.setTextColor("#F55353");
        tg.MainButton.setColor("#143F6B");
        tg.MainButton.setParams({"color": "#143F6B"});

        let btn = document.createElement("button");
        btn.textContent = "Show/Hide Main Button";
        btn.addEventListener('click', function(){
            if (tg.MainButton.isVisible){
                tg.MainButton.hide();
            } else {
                tg.MainButton.show();
            }
        });
        document.body.appendChild(btn);

        let btnED = document.createElement("button");
        btnED.textContent = "Enable/Disable Main Button";
        btnED.addEventListener('click', function(){
            if (tg.MainButton.isActive){
                tg.MainButton.setParams({"color": "#E0FFFF"});
                tg.MainButton.disable();
            } else {
                tg.MainButton.setParams({"color": "#143F6B"});
                tg.MainButton.enable();
            }
        });
        document.body.appendChild(btnED);

        Telegram.WebApp.onEvent('mainButtonClicked', function(){
            tg.sendData("some string that we need to send");
        });

        let usercard = document.createElement("div");
        usercard.id = "usercard";
        document.body.appendChild(usercard);

        let profName = document.createElement('p');
        profName.innerText = `${tg.initDataUnsafe.user.first_name} ${tg.initDataUnsafe.user.last_name} ${tg.initDataUnsafe.user.username} (${tg.initDataUnsafe.user.language_code})`;
        usercard.appendChild(profName);

        let userid = document.createElement('p');
        userid.innerText = `User ID: ${tg.initDataUnsafe.user.id}`;
        usercard.appendChild(userid);
    </script>
</body>
</html>
